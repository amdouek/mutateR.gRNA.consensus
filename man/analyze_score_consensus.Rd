% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/analyse_score_consensus.R
\name{analyze_score_consensus}
\alias{analyze_score_consensus}
\title{Run consensus scoring analysis for one or more genes}
\usage{
analyze_score_consensus(
  gene_ids,
  species,
  genome,
  nuclease = c("Cas9", "Cas12a", "enCas12a"),
  methods = NULL,
  transcript_ids = NULL,
  id_type = c("symbol", "ensembl_gene_id"),
  tracr = "Chen2013",
  deephf_var = "wt_u6",
  cor_method = c("spearman", "pearson"),
  top_n = c(10, 20, 50),
  generate_plots = TRUE,
  quiet = FALSE,
  stop_on_error = FALSE
)
}
\arguments{
\item{gene_ids}{Character vector. One or more gene symbols (e.g., c("TP53", "BRCA1"))
or Ensembl gene IDs.}

\item{species}{Character. Ensembl species code (e.g., "hsapiens", "mmusculus", "drerio").}

\item{genome}{BSgenome object for the target species.}

\item{nuclease}{Character. One of "Cas9" (default), "Cas12a", or "enCas12a".}

\item{methods}{Character vector. Scoring methods to use. If NULL (default), auto-selects:
- Cas9: c("ruleset1", "deepspcas9", "ruleset3", "deephf")
- Cas12a: c("deepcpf1", "enpamgb")}

\item{transcript_ids}{Named character vector. Optional specific transcript IDs keyed by gene_id.
E.g., c("TP53" = "ENST00000269305", "BRCA1" = "ENST00000357654")}

\item{id_type}{Character. One of "symbol" (default) or "ensembl_gene_id".}

\item{tracr}{Character. tracrRNA for RuleSet3 (default "Chen2013").}

\item{deephf_var}{Character. DeepHF variant (default "wt_u6").}

\item{cor_method}{Character. Correlation method: "spearman" (default) or "pearson".}

\item{top_n}{Integer vector. Thresholds for overlap analysis (default: c(10, 20, 50)).}

\item{generate_plots}{Logical. Whether to generate plots (default TRUE).}

\item{quiet}{Logical. Suppress progress messages (default FALSE).}

\item{stop_on_error}{Logical. If FALSE (default), continues processing remaining genes
when one fails. If TRUE, stops immediately on first error.}
}
\value{
\itemize{
\item If single gene: A "mutateR_consensus_analysis" object
\item If multiple genes: A "mutateR_consensus_batch" object (named list of individual analyses)
with additional batch-level methods and comparison utilities
}
}
\description{
Wrapper function that executes the full consensus scoring exploration pipeline
for a single gene or a vector of genes. Handles the full workflow:
gene lookup → exon retrieval → gRNA finding → multi-method scoring → agreement analysis.
}
\examples{
\dontrun{
library(BSgenome.Hsapiens.UCSC.hg38)

# Single gene
tp53 <- analyze_score_consensus("TP53", "hsapiens", BSgenome.Hsapiens.UCSC.hg38)

# Multiple genes
results <- analyze_score_consensus(
  c("TP53", "BRCA1", "EGFR", "CD4", "MYC"),
  "hsapiens",
  BSgenome.Hsapiens.UCSC.hg38
)

# Access individual results
results$TP53
results$BRCA1$plots$matrix

# Get comparison table
summary(results)

# Large-scale analysis (all protein-coding genes - use with caution!)
# all_genes <- get_all_protein_coding_genes("hsapiens")
# all_results <- analyze_score_consensus(all_genes, "hsapiens", genome, quiet = TRUE)
}

}
