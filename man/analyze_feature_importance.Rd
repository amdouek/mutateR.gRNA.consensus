% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/gRNA score SHAP analysis.R
\name{analyze_feature_importance}
\alias{analyze_feature_importance}
\title{Run SHAP analysis for gRNA features}
\usage{
analyze_feature_importance(
  batch_result,
  target = "quality_percentile_modern",
  modern_methods = c("deepspcas9", "deephf", "ruleset3"),
  legacy_methods = c("ruleset1"),
  n_top_features = 20,
  xgb_params = NULL,
  quiet = FALSE
)
}
\arguments{
\item{batch_result}{A mutateR_consensus_batch or mutateR_consensus_analysis object}

\item{target}{Character. Target variable to model. Common options:
- "quality_percentile_modern": Modern method consensus (recommended primary)
- "quality_percentile_robust": Outlier-resistant quality
- "discordance_modern": Modern method disagreement
- "ruleset1_divergence": Legacy method divergence
- "score_\if{html}{\out{<method>}}": Individual method score}

\item{modern_methods}{Character vector of modern scoring methods}

\item{legacy_methods}{Character vector of legacy scoring methods}

\item{n_top_features}{Integer. Number of top features to display (default 20)}

\item{xgb_params}{List. XGBoost parameters (optional, uses sensible defaults)}

\item{quiet}{Logical. Suppress progress messages (default FALSE)}
}
\value{
List of class "mutateR_shap_analysis" containing model, SHAP values, and plots
}
\description{
Uses a gradient boosting model with SHAP values to identify which sequence
features drive high scores and cross-method agreement/disagreement.
Supports tiered target variables for nuanced analysis.
}
