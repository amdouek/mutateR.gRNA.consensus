% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/parallel_consensus.R
\name{run_exome_analysis}
\alias{run_exome_analysis}
\title{Run exome-scale parallel consensus analysis}
\usage{
run_exome_analysis(
  gene_ids,
  species = "hsapiens",
  genome,
  output_dir = "exome_analysis",
  n_workers = 8,
  batch_size = 100,
  resume = TRUE,
  nuclease = c("Cas9", "Cas12a", "enCas12a"),
  methods = NULL,
  skip_plots = TRUE,
  n_genes = NULL,
  sample_seed = 42,
  quiet = FALSE
)
}
\arguments{
\item{gene_ids}{Character vector. Gene symbols to analyse.}

\item{species}{Character. Ensembl species code (default "hsapiens").}

\item{genome}{BSgenome object for the target species.}

\item{output_dir}{Character. Directory for checkpoints and results (default "exome_analysis").}

\item{n_workers}{Integer. Number of parallel workers (default 8).}

\item{batch_size}{Integer. Genes per checkpoint batch (default 100).}

\item{resume}{Logical. Resume from existing progress if available (default TRUE).}

\item{nuclease}{Character. One of "Cas9" (default), "Cas12a", or "enCas12a".}

\item{methods}{Character vector. Scoring methods to use. If NULL (default), auto-selects
based on nuclease type.}

\item{skip_plots}{Logical. Skip plot generation for speed (default TRUE).}

\item{n_genes}{Integer or NULL (default). If specified,
this number of genes will be randomly selected for processing (instead of all genes).}

\item{sample_seed}{Random seed for sample reproducibility (default 42). For use with n_genes.}

\item{quiet}{Logical. Suppress progress messages (default FALSE).}
}
\value{
Path to final aggregated results file (invisibly).
}
\description{
Processes thousands of genes in parallel with checkpointing for fault tolerance.
Designed for overnight/weekend runs on local hardware. Results are saved in
batches to enable resumption from interruptions.
}
\details{
Note: Currently only focusing on the 'exome' per the current mutateR architecture
which currently only handles exonic sequences. A future version may allow for intronic targeting.

The function processes genes in parallel batches, saving checkpoints after each
batch completes. If interrupted, subsequent runs with \code{resume = TRUE} will
continue from the last checkpoint without reprocessing completed genes.

Recommended worker counts based on available RAM:
\itemize{
\item 16GB RAM: 4-6 workers
\item 32GB RAM: 8-10 workers
\item 64GB RAM: 12-16 workers
}
}
\section{Output Structure}{

The function creates the following directory structure:
\preformatted{
output_dir/
├── checkpoints/
│   ├── batch_0001.rds
│   ├── batch_0002.rds
│   └── ...
├── progress.rds
├── failed_genes.rds
└── final_results.rds
}
}

\examples{
\dontrun{
library(mutateR)
library(BSgenome.Hsapiens.UCSC.hg38)

# Get protein-coding genes
all_genes <- get_protein_coding_genes("hsapiens")

# Run full exome analysis (overnight)
run_exome_analysis(
  gene_ids = all_genes,
  species = "hsapiens",
  genome = BSgenome.Hsapiens.UCSC.hg38,
  output_dir = "exome_analysis",
  n_workers = 8
)

# Monitor progress from another session
monitor_exome_analysis("exome_analysis")

# After completion, load results
results <- readRDS("exome_analysis/final_results.rds")
}

}
\seealso{
\code{\link{monitor_exome_analysis}} for progress monitoring,
\code{\link{retry_failed_genes}} for recovering failed genes,
\code{\link{aggregate_batch_results}} for manual result aggregation.
}
