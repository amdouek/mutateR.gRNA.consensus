% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/SHAP_ablation.R
\name{run_custom_ablation}
\alias{run_custom_ablation}
\title{Run custom ablation analysis}
\usage{
run_custom_ablation(
  batch_result,
  exclude_features,
  target = "quality_percentile_modern",
  modern_methods = c("deepspcas9", "deephf", "ruleset3"),
  legacy_methods = c("ruleset1"),
  n_top_features = 20,
  ablation_name = "custom",
  ablation_description = NULL,
  rasterize = NULL,
  raster_dpi = 300,
  quiet = FALSE
)
}
\arguments{
\item{batch_result}{A mutateR_consensus_batch object}

\item{exclude_features}{Character vector. Features to exclude from analysis.}

\item{target}{Character. Target variable to model.}

\item{modern_methods}{Character vector of modern scoring methods.}

\item{legacy_methods}{Character vector of legacy scoring methods.}

\item{n_top_features}{Integer. Number of top features to display (default 20)}

\item{ablation_name}{Character. Name for this ablation (for metadata).}

\item{ablation_description}{Character. Description of ablation rationale.}

\item{rasterize}{Logical. Rasterize beeswarm plots (default NULL = auto)}

\item{raster_dpi}{Integer. DPI for rasterization (default 300)}

\item{quiet}{Logical. Suppress progress messages (default FALSE)}
}
\value{
A mutateR_shap_analysis object with ablation metadata
}
\description{
Performs SHAP analysis with a custom set of features removed.
Useful for testing specific hypotheses about feature importance.
}
\examples{
\dontrun{
# Remove all positional features to test compositional-only model
positional <- get_feature_categories()$positional
ablated <- run_custom_ablation(
  batch,
  exclude_features = positional,
  ablation_name = "no_positional",
  ablation_description = "Compositional features only"
)

# Remove seed region features
seed_features <- paste0("pos", 12:20, "_", rep(c("A","T","G","C"), each = 9))
ablated_seed <- run_custom_ablation(
  batch,
  exclude_features = seed_features,
  ablation_name = "no_seed",
  ablation_description = "Without seed region positional features"
)
}

}
